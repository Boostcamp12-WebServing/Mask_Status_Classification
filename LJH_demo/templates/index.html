<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
    	#video {
    		transform: rotateY(180deg);
    		-webkit-transform:rotateY(180deg); /* Safari and Chrome */
    		-moz-transform:rotateY(180deg); /* Firefox */
    		
        }

        table{
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 0px;
        }
        td{
            color: white;
            text-align: center;
            width: 300px;
            height: 300px;
        }
        th{
            color: white;
            text-align: center;
        }
        h2, h3, h4, p{
            color: white;
            text-align: center;
        }

        /* .rounded-circle {
            border-radius: 50% !important;
        } */

        .img-fluid {
            /* max-width: 100%; */
            height: auto;
            margin-left: auto;
            margin-right: auto;
            display: block;
            width: 20%;
            height: 20%;
        }

        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
        }


    </style>
    
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.0/socket.io.js'></script>
</head>

<body bgcolor="black">


    <div class = 'video'>
        <h1 style="color:white;font-size:40px;" align="center">Video</h1>
        <img id="photo"  width="800"  height="600", style="display:block; margin: 0 auto;">
    </div>

    <h1 style="color:white;font-size:40px;" align="center">Contributer</h1>

    <table>
        <tr>
            <th>
                Junhyuk Lee
            </th>
            <th>
                Junghun Heo
            </th>
            <th>
                Sungmin Lim
            </th>
        </tr>
        <tr>
            <td>
                <A href="https://github.com/kmouleejunhyuk" target='blank'>
                <img src="https://avatars.githubusercontent.com/u/49234207?v=4" width="200" height="200">
                <br>
                <a>모델 경량화, 아이디어 기획</a> 
            </A>
            </td>
            <td>
                <A href="https://github.com/herjh0405" target='blank'>
                <img src="https://avatars.githubusercontent.com/u/54921730?v=4" width="200" height="200">
                <br>
                <a>얼굴 인식 및 분류 모델링, 프론트엔드</a>    
            </A>
            </td>
            <td>
                <A href="https://github.com/mickeyshoes" target='blank'>
                <img src="https://avatars.githubusercontent.com/u/49228132?v=4" width="200" height="200">
                <br>
                <a>모델 서빙, 백엔드</a>
            </A>
            </td>
        </tr>
        <!-- <tr>
            <td>
                <div id="container">
                    <video autoplay playsinline id="videoElement", style="visibility: hidden;"></video>
                </div>
            </td>
            <td>
                <canvas id="canvas"  width="300" height="300" ></canvas>
            </td>
        </tr> -->
    </table>

    <section class="page-section" id="about">
        <div class="container">
            <div class="text-center">
                <h1 style="color:white;font-size:40px;" align="center">Intro</h1>
                <h2 class="section-heading text-uppercase">마스크 착용 상태 분류기</h2>
                <!-- <h3 class="section-subheading text-muted">마스크 착용 상태 분류기</h3> -->
            </div>
            <ul class="timeline">
                <li>
                    <div class="timeline-image"><img class="center" src="https://s3-ap-northeast-2.amazonaws.com/aistages-public-junyeop/app/Users/00000025/files/56bd7d05-4eb8-4e3e-884d-18bd74dc4864..png" alt="..."  width="30%" height="50%"/></div>
                    <div class="timeline-panel">
                        <div class="timeline-heading">
                            <h4>2021.09.04 ~ 2021.09.26</h4>
                            <!-- <h4 class="subheading">Our Humble Beginnings안녕!</h4> -->
                        </div>
                        <div class="timeline-body"><p class="text-muted">
                            <a href="https://github.com/boostcampaitech2/image-classification-level1-12/tree/master">
                            부스트캠프 이미지 분류 대회의 모델</a>을 사용하여, 마스크 착용 상태 구분 웹서비스  
                            마스크 착용 상태, 연령대, 성별을 구분
                            </p></div>
                    </div>
                </li>
                <li class="timeline-inverted">
                    <div class="timeline-image"><img class="rounded-circle img-fluid" src="data:image/png;base64,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" alt="..." /></div>
                    <div class="timeline-panel">
                        <div class="timeline-heading">
                            <h4><a href="https://github.com/Boostcamp12-WebServing/Mask_Status_Classification">Source Code</a></h4>
                        </div>
                        <!-- <div class="timeline-body"><p class="text-muted">안녕!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero unde, sed, incidunt et ea quo dolore laudantium consectetur!</p></div> -->
                    </div>
                </li>
            </ul>
        </div>
    </section>


    <script type="text/javascript" charset="utf-8">
      
        var socket = io.connect(window.location.protocol + '//' + document.domain + ':' + location.port);
        socket.on('connect', function(){
            console.log("Connected...!", socket.connected)
        });


        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        const video = document.querySelector("#videoElement");

        video.width = 300;
        video.height = 300; 
    

        if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true })
            .then(function (stream) {
                video.srcObject = stream;
                video.play();
            })
            .catch(function (err0r) {

            });
        }

        const FPS =5;
        setInterval(() => {
            width=video.width;
            height=video.height;
            context.drawImage(video, 0, 0, width , height);
            var data = canvas.toDataURL('image/jpeg', 0.5);
            context.clearRect(0, 0, width,height );
            socket.emit('image', data);
        }, 1000/FPS);

        socket.on('response_back', function(image){
                photo.setAttribute('src', image );      
        });

    </script>

 </body>

</html>